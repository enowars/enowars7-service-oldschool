{% extends 'templates/base.twig' %}

{% block content %}
	<h1>User Profile</h1>
	{% if message %}
		<p>{{ message }}</p>
	{% endif %}
	<p>Username:
		{{ user.username }}</p>
	<p>Name:
		{{ user.name }}</p>
	<p>Flag:
		{{ user.flag }}</p>
	<p>User.id:
		{{user.id}}</p>
	<p>logged_in_user.id:
		{{logged_in_user.id}}</p>

	<h2>About Me</h2>
	{{ user.about_me|markdown|raw }}

	{% if user.id == logged_in_user.id %}
		<h2>Edit Profile</h2>
		<form method="POST" action="index.php?action=profile">
			<label for="name">Username:</label>
			<input type="text" name="username" id="username" value="{{ user.username }}" required>
			<br>
			<label for="name">Name:</label>
			<input type="text" name="name" id="name" value="{{ user.name }}" required>
			<br>
			<label for="flag">Flag:</label>
			<input type="text" name="flag" id="flag" value="{{ user.flag }}" required>
			<br>
			<input type="submit" value="Save Changes">
		</form>

		<h2>Change Password</h2>
		<form method="POST" action="index.php?action=profile">
			<label for="password">New Password:</label>
			<input type="password" name="password" id="password">
			<br>
			<input type="submit" value="Change Password">
		</form>

		<h2>Edit About Me</h2>
		<form method="POST" action="index.php?action=profile">
			<label for="template">About Me:</label>
			<textarea name="about_me" id="about_me" rows="4" cols="50">{{ user.about_me }}</textarea>
			<br>
			<input type="submit" value="Update About Me">
		</form>
	{% endif %}
{% endblock %}
